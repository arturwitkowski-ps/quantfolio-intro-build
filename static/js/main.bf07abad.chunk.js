(this["webpackJsonpintro-project"]=this["webpackJsonpintro-project"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),o=n(6),i=n.n(o),s=(n(14),n(9)),a=n(2),l=n(7),u=n.n(l),d=n(8),j=n.n(d),h=n.p+"static/media/logo-bright.1ab74d6b.png",b={EUR:"EUR",NOK:"NOK",USD:"USD"},f=["","red","yellow","green","royalblue","aqua","hotpink","darkblue"],O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{series:null!==t&&void 0!==t?t:[],chart:{type:"ohlc",backgroundColor:"transparent",style:{color:"#FFF"}},tooltip:{split:!1},xAxis:{labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},yAxis:{lineColor:"#DDD",labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{inputEnabled:!1,allButtonsEnabled:!0,labelStyle:{color:"white"},buttons:[{type:"year",count:1,text:"1Y",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return e("1y")}}},{type:"year",count:5,text:"5Y",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return e("5y")}}},{type:"all",text:"MAX",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return e("max")}}}],buttonTheme:{width:40},selected:1}}},x="http://vps-a4acc035.vps.ovh.net:8000",v=(n(16),n(0)),g=function(){var t=Object(c.useRef)(null),e=Object(c.useState)([]),n=Object(a.a)(e,2),r=n[0],o=n[1],i=Object(c.useState)(),l=Object(a.a)(i,2),d=l[0],g=l[1],p=Object(c.useState)(b.USD),m=Object(a.a)(p,2),y=m[0],k=m[1],F=Object(c.useState)(O()),S=Object(a.a)(F,2),N=S[0],E=S[1],C=Object(c.useState)("5y"),D=Object(a.a)(C,2),w=D[0],L=D[1],T=Object(c.useCallback)((function(e,n){d&&(t.current.chart.showLoading(),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2?arguments[2]:void 0;return fetch("".concat(x,"/time_series?stocks=").concat(t.join(),"&currency=").concat(e)).then((function(t){return t.json()})).then((function(t){var e=[];return t.forEach((function(t){var c=[new Date(t.recorded).getTime(),t.open,t.high,t.low,t.close];if(t.stock_id in e)e[t.stock_id].data.push(c);else{var r=n.find((function(e){return e.id===t.stock_id}));e[t.stock_id]={data:[c],name:r.name,color:f[t.stock_id],turboThreshold:2e4}}})),e}))}(e,n,d).then((function(t){E(O(t,L))})).catch((function(t){return console.log(t)})).finally((function(){return t.current.chart.hideLoading()})))}),[d]);Object(c.useEffect)((function(){fetch("".concat(x,"/stocks?period=1,5,max")).then((function(t){return t.json()})).then((function(t){t.sort((function(t,e){return t.id>e.id})),g(t)})).catch((function(t){return console.log(t)}))}),[]);var U=function(e,n){if(0!==r.length){var c=t.current.chart.series.find((function(t){return t.name===e})),o=t.current.chart.series.filter((function(t){return t.name!==e}));c&&(c.points.forEach((function(t){t.setState(n)})),"hover"===n?o.forEach((function(t){return t.points.forEach((function(t){return t.setState("inactive")}))})):o.forEach((function(t){return t.points.forEach((function(t){return t.setState("normal")}))})))}};return Object(v.jsxs)("div",{className:"introProject",children:[Object(v.jsx)("header",{children:Object(v.jsx)("img",{src:h,alt:"Quantfol.io logo"})}),Object(v.jsxs)("main",{children:[Object(v.jsxs)("section",{className:"chart",children:[Object(v.jsx)(j.a,{highcharts:u.a,constructorType:"stockChart",options:N,ref:t}),Object(v.jsx)("div",{className:"currency",children:Object.values(b).map((function(t){return Object(v.jsx)("div",{className:"currency-button".concat(y===t?" currency-button--selected":""),onClick:function(){return k(e=t),void T(r,e);var e},children:t},t)}))})]}),Object(v.jsx)("section",{className:"legend",children:d?d.map((function(t){var e=t.name,n=t.id,c=t.symbol;return Object(v.jsxs)("div",{className:"legend-stock".concat(r.includes(c)?"":" legend-stock--hidden"),onClick:function(){return t=c,void o((function(e){var n=e.indexOf(t),c=Object(s.a)(e);return-1!==n?c.splice(n,1):c.push(t),T(c,y),c}));var t},onMouseEnter:function(){return U(e,"hover")},onMouseLeave:function(){return U(e,"normal")},children:[Object(v.jsx)("div",{className:"stock-circle",style:{backgroundColor:f[n]}}),Object(v.jsx)("div",{className:"legend-text",children:e})]},"stockLegend-".concat(n))})):Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)("h3",{children:"Loading..."})})}),Object(v.jsxs)("section",{className:"stocks",children:[Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{}),Object(v.jsx)("td",{children:"Stock"}),Object(v.jsx)("td",{children:"CAGR"}),Object(v.jsx)("td",{children:"Sharpe"})]})}),Object(v.jsx)("tbody",{children:d?d.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("div",{className:"stock-circle",style:{backgroundColor:f[t.id]}})}),Object(v.jsx)("td",{children:t.name}),Object(v.jsx)("td",{children:"".concat(t[w].cagr,"%")}),Object(v.jsx)("td",{children:t[w].sharpe})]},"stockTable-".concat(t.id))})):null})]}),d?"":Object(v.jsx)("div",{className:"loading",children:Object(v.jsx)("h3",{children:"Loading..."})})]})]})]})},p=(n(18),function(){return Object(v.jsx)("div",{id:"App",children:Object(v.jsx)(g,{})})}),m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),o(t),i(t)}))};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(p,{})}),document.getElementById("root")),m()}},[[19,1,2]]]);
//# sourceMappingURL=main.bf07abad.chunk.js.map