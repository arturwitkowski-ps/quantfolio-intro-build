{"version":3,"sources":["images/logo-bright.png","utility/charts-config.js","utility/api.js","components/Homepage/Homepage.jsx","App.js","reportWebVitals.js","index.js"],"names":["stockCurrencies","EUR","NOK","USD","stockColors","createHighchartsConfig","seriesData","handleZoom","series","chart","type","backgroundColor","style","color","tooltip","split","xAxis","labels","title","yAxis","lineColor","navigator","enabled","credits","rangeSelector","inputEnabled","allButtonsEnabled","labelStyle","buttons","count","text","dataGrouping","units","events","click","buttonTheme","width","selected","API_URL","getStocks","symbols","currency","stocksInfo","fetch","join","then","data","json","fetchedSelectedStocks","selectedStocks","stockSeries","forEach","oneDay","newStockRecord","Date","recorded","getTime","open","high","low","close","stock_id","push","stockName","find","searchedStock","id","name","turboThreshold","createSeriesFromData","Homepage","chartComponent","useRef","useState","setSelectedStocks","setStocksInfo","selectedCurrency","setSelectedCurrency","highchartsConfig","setHighchartsConfig","zoom","setZoom","loadStocks","useCallback","pickedStocks","pickedCurrency","current","showLoading","catch","err","console","log","finally","hideLoading","highlightStock","newState","length","foundStock","restOfStocks","filter","points","point","setState","stock","useEffect","fetchedStocksData","sort","a","b","className","src","Logo","alt","highcharts","Highcharts","constructorType","options","ref","Object","values","map","curr","onClick","symbol","includes","stockSymbol","oldSelectedStocks","position","indexOf","newSelectedStocks","splice","onMouseEnter","onMouseLeave","cagr","sharpe","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1a82e6c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-bright.1ab74d6b.png\";","const stockCurrencies = {\n  EUR: 'EUR',\n  NOK: 'NOK',\n  USD: 'USD'\n};\n\nconst stockColors = [\n  'red',\n  'yellow',\n  'green',\n  'royalblue',\n  'aqua',\n  'hotpink',\n  'darkblue',\n];\n\nconst createSeriesFromData = (selectedStocks, stocksInfo) => {\n  const stockSeries = [];\n  selectedStocks.forEach(oneDay => {\n    const newStockRecord = [\n      (new Date(oneDay.recorded)).getTime(),\n      oneDay.open,\n      oneDay.high,\n      oneDay.low,\n      oneDay.close,\n    ];\n\n    if (oneDay.stock_id in stockSeries) {\n      stockSeries[oneDay.stock_id].data.push(newStockRecord)\n    } else {\n      const stockName = stocksInfo.find(searchedStock => searchedStock.id === oneDay.stock_id);\n\n      stockSeries[oneDay.stock_id] = {\n        data: [newStockRecord],\n        name: stockName.name,\n        color: stockColors[oneDay.stock_id - 1],\n        turboThreshold: 20000\n      };\n    }\n  })\n\n  return stockSeries;\n}\n\nconst createHighchartsConfig = (seriesData = [], handleZoom = () => {}) => ({\n    series: seriesData,\n    chart: {\n      type: 'ohlc',\n      backgroundColor: 'transparent',\n      style: {\n        color: '#FFF',\n      },\n    },\n    tooltip: {\n      split: false\n    },\n    xAxis: {\n      labels: {\n        style: {\n          color: '#FFF',\n        },\n      },\n      title: {\n        style: {\n          color: '#FFF',\n        },\n      },\n    },\n    yAxis: {\n      lineColor: '#DDD',\n      labels: {\n        style: {\n          color: '#FFF',\n        },\n      },\n      title: {\n        style: {\n          color: '#FFF',\n        },\n      },\n    },\n    navigator: {\n      enabled: false,\n    },\n    credits: {\n      enabled: false,\n    },\n    rangeSelector: {\n      inputEnabled: false,\n      allButtonsEnabled: true,\n      labelStyle: {\n        color: 'white',\n      },\n      buttons: [\n        {\n          type: 'year',\n          count: 1,\n          text: '1Y',\n          dataGrouping: {\n            units: [['day', [1]]],\n          },\n          events: {\n            click: () => handleZoom('1y')\n          }\n        },\n        {\n          type: 'year',\n          count: 5,\n          text: '5Y',\n          dataGrouping: {\n            units: [['day', [1]]],\n          },\n          events: {\n            click: () => handleZoom('5y')\n          }\n        },\n        {\n          type: 'all',\n          text: 'MAX',\n          dataGrouping: {\n            units: [['day', [1]]],\n          },\n          events: {\n            click: () => handleZoom('max')\n          }\n        },\n      ],\n      buttonTheme: {\n        width: 40,\n      },\n      selected: 0,\n    },\n  });\n\n\nexport {\n  createHighchartsConfig,\n  stockColors,\n  stockCurrencies,\n  createSeriesFromData,\n}","import { createSeriesFromData } from \"./charts-config\";\n\nconst API_URL = \"http://vps-a4acc035.vps.ovh.net:8000\";\n\nconst getStocksData = () => fetch(`${API_URL}/stocks?period=1,5,max`).then(data => data.json());\n\nconst getStocks =\n  (symbols, currency, stocksInfo) =>\n    fetch(`${API_URL}/time_series?stocks=${symbols.join()}&currency=${currency}`)\n      .then(data => data.json())\n      .then((fetchedSelectedStocks) => {\n        return createSeriesFromData(fetchedSelectedStocks, stocksInfo);\n      });\n\nexport {\n  getStocksData,\n  getStocks,\n}","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport Highcharts from 'highcharts/highstock';\nimport HighchartsReact from 'highcharts-react-official';\n\nimport Logo from '../../images/logo-bright.png';\nimport { getStocksData, getStocks } from '../../utility/api';\nimport { createHighchartsConfig, stockColors, stockCurrencies } from '../../utility/charts-config';\n\nimport './Homepage.css';\n\nconst Homepage = () => {\n  const chartComponent = useRef(null);\n  const [selectedStocks, setSelectedStocks] = useState([]);\n  const [stocksInfo, setStocksInfo] = useState();\n  const [selectedCurrency, setSelectedCurrency] = useState(stockCurrencies.USD);\n  const [highchartsConfig, setHighchartsConfig] = useState(createHighchartsConfig());\n  const [zoom, setZoom] = useState('1y');\n\n  const loadStocks = useCallback((pickedStocks, pickedCurrency) => {\n    if (!stocksInfo) return;\n    chartComponent.current.chart.showLoading();\n\n    getStocks(pickedStocks, pickedCurrency, stocksInfo)\n      .then((stockSeries) => {\n        setHighchartsConfig(createHighchartsConfig(stockSeries, setZoom));\n      })\n      .catch(err => console.log(err))\n      .finally(() => \n        chartComponent.current.chart.hideLoading()\n      );\n  }, [stocksInfo]);\n  \n  const changeCurrency = (currency) => {\n    setSelectedCurrency(currency);\n    loadStocks(selectedStocks, currency);\n  }\n  \n  const toggleStock = (stockSymbol) => {\n    setSelectedStocks((oldSelectedStocks) => {\n      const position = oldSelectedStocks.indexOf(stockSymbol);\n      const newSelectedStocks = [...oldSelectedStocks];\n      \n      if (position !== -1) {\n        newSelectedStocks.splice(position, 1);\n      } else {\n        newSelectedStocks.push(stockSymbol);\n      }\n      \n      \n      loadStocks(newSelectedStocks, selectedCurrency)\n      return newSelectedStocks;\n    });\n  };\n  \n  const highlightStock = (stockName, newState) => {\n    if (selectedStocks.length === 0) return;\n    const foundStock = chartComponent.current.chart.series.find(series => series.name === stockName);\n    const restOfStocks = chartComponent.current.chart.series.filter(series => series.name !== stockName)\n    \n    if(!foundStock) return;\n    foundStock.points.forEach(point => {\n      point.setState(newState)\n    });\n    if (newState === 'hover') {\n      restOfStocks.forEach(stock => stock.points.forEach(point => point.setState('inactive')))\n    } else {\n      restOfStocks.forEach(stock => stock.points.forEach(point => point.setState('normal')));\n    }\n  }\n  \n    useEffect(() => {\n      getStocksData()\n        .then((fetchedStocksData) => {\n          fetchedStocksData.sort((a, b) => a.id > b.id)\n          setStocksInfo(fetchedStocksData)\n        })\n        .catch(err => console.log(err))\n  \n      \n    }, []);\n  \n  return (\n    <div className=\"introProject\">\n      <header>\n        <img src={Logo} alt=\"Quantfol.io logo\" />\n      </header>\n      <main>\n        <section className=\"chart\">\n          <HighchartsReact\n            highcharts={Highcharts}\n            constructorType={'stockChart'}\n            options={highchartsConfig}\n            ref={chartComponent}\n          />\n          <div className=\"currency\">\n            {Object.values(stockCurrencies).map(curr => (\n              <div \n                key={curr}\n                className={`currency-button${selectedCurrency === curr ? ' currency-button--selected': ''}`}\n                onClick={() => changeCurrency(curr)}\n              >{curr}</div>\n            ))}\n          </div>\n        </section>\n        <section className=\"legend\">\n        {stocksInfo ? stocksInfo.map(({ name, id, symbol }) => (\n            <div\n              key={`stockLegend-${id}`}\n              className={`legend-stock${\n                !selectedStocks.includes(symbol) ? ' legend-stock--hidden' : ''\n              }`}\n              onClick={() => toggleStock(symbol)}\n              onMouseEnter={() => highlightStock(name, 'hover')}\n              onMouseLeave={() => highlightStock(name, 'normal')}\n            >\n              <div\n                className=\"stock-circle\"\n                style={{ backgroundColor: stockColors[id - 1] }}\n              ></div>\n              <div className=\"legend-text\">{name}</div>\n            </div>\n          )) : <div className=\"loading\"><h3>Loading...</h3></div>}\n        </section>\n        <section className=\"stocks\">\n          <table>\n            <thead>\n              <tr>\n                <td></td>\n                <td>Stock</td>\n                <td>CAGR</td>\n                <td>Sharpe</td>\n              </tr>\n            </thead>\n            <tbody>\n              {stocksInfo ? stocksInfo.map((stock) => (\n                <tr key={`stockTable-${stock.id}`}>\n                  <td>\n                    <div\n                      className=\"stock-circle\"\n                      style={{ backgroundColor: stockColors[stock.id - 1] }}\n                    ></div>\n                  </td>\n                  <td>{stock.name}</td>\n                  <td>{`${stock[zoom].cagr}%`}</td>\n                  <td>{stock[zoom].sharpe}</td>\n                </tr>\n              )) : null}\n            </tbody>\n          </table>\n          {!stocksInfo ? <div className=\"loading\"><h3>Loading...</h3></div> : ''}\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default Homepage;\n","import React from 'react';\n\nimport Homepage from './components/Homepage/Homepage';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <div id=\"App\">\n      <Homepage />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}