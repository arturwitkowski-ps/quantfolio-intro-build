(this["webpackJsonpintro-project"]=this["webpackJsonpintro-project"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),o=n(6),i=n.n(o),s=(n(14),n(9)),a=n(2),l=n(7),u=n.n(l),d=n(8),j=n.n(d),h=n.p+"static/media/logo-bright.1ab74d6b.png",b={EUR:"EUR",NOK:"NOK",USD:"USD"},f=["red","yellow","green","royalblue","aqua","hotpink","darkblue"],O="https://apps.lukaszpiotrkowski.pl/stockapp/",p=function(t,e,n){return fetch("".concat(O,"/time_series?stocks=").concat(t.join(),"&currency=").concat(e)).then((function(t){return t.json()})).then((function(t){return function(t,e){var n=[];return t.forEach((function(t){var c=[new Date(t.recorded).getTime(),t.open,t.high,t.low,t.close],r=n.find((function(e){return e._id===t.stock_id}));if(r)r.data.push(c);else{var o=e.find((function(e){return e.id===t.stock_id}));n.push({data:[c],name:o.name,color:f[t.stock_id-1],turboThreshold:2e4,_id:t.stock_id,_show:!0})}})),n}(t,n)}))},x=(n(16),n(0)),g=function(){var t=Object(c.useRef)(null),e=Object(c.useState)([]),n=Object(a.a)(e,2),r=n[0],o=n[1],i=Object(c.useState)(),l=Object(a.a)(i,2),d=l[0],g=l[1],m=Object(c.useState)("1y"),v=Object(a.a)(m,2),k=v[0],y=v[1],F=Object(c.useState)(b.USD),S=Object(a.a)(F,2),N=S[0],E=S[1],C=Object(c.useState)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return{series:[],chart:{type:"ohlc",backgroundColor:"transparent",style:{color:"#FFF"}},tooltip:{split:!1},xAxis:{labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},yAxis:{lineColor:"#DDD",labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},scrollbar:{enabled:!1},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{inputEnabled:!1,allButtonsEnabled:!0,labelStyle:{color:"white"},buttons:[{type:"year",count:1,text:"1Y",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return t("1y")}}},{type:"year",count:5,text:"5Y",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return t("5y")}}},{type:"all",text:"MAX",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return t("max")}}}],buttonTheme:{width:40},selected:0}}}(y)),w=Object(a.a)(C,2),D=w[0],L=w[1],_=Object(c.useCallback)((function(e,n){d&&(t.current.chart.showLoading(),p(e,n,d).then((function(t){L((function(e){return{series:t}}))})).catch((function(t){return console.log(t)})).finally((function(){return t.current.chart.hideLoading()})))}),[d]),T=function(e,n){if(0!==r.length){var c=t.current.chart.series.find((function(t){return t.name===e})),o=t.current.chart.series.filter((function(t){return t.name!==e}));c&&(c.points.forEach((function(t){t.setState(n)})),"hover"===n?o.forEach((function(t){return t.points.forEach((function(t){return t.setState("inactive")}))})):o.forEach((function(t){return t.points.forEach((function(t){return t.setState("normal")}))})))}};return Object(c.useEffect)((function(){fetch("".concat(O,"/stocks?period=1,5,max")).then((function(t){return t.json()})).then((function(t){t.sort((function(t,e){return t.id>e.id})),g(t)})).catch((function(t){return console.log(t)}))}),[]),Object(x.jsxs)("div",{className:"introProject",children:[Object(x.jsx)("header",{children:Object(x.jsx)("img",{src:h,alt:"Quantfol.io logo"})}),Object(x.jsxs)("main",{children:[Object(x.jsxs)("section",{className:"chart",children:[Object(x.jsx)(j.a,{highcharts:u.a,constructorType:"stockChart",options:D,ref:t}),Object(x.jsx)("div",{className:"currency",children:Object.values(b).map((function(t){return Object(x.jsx)("div",{className:"currency-button".concat(N===t?" currency-button--selected":""),onClick:function(){return E(e=t),void _(r,e);var e},children:t},t)}))})]}),Object(x.jsx)("section",{className:"legend",children:d?d.map((function(t){var e=t.name,n=t.id,c=t.symbol;return Object(x.jsxs)("div",{className:"legend-stock".concat(r.includes(c)?"":" legend-stock--hidden"),onClick:function(){return t=c,void o((function(e){var n=e.indexOf(t),c=Object(s.a)(e);return-1!==n?c.splice(n,1):c.push(t),_(c,N),c}));var t},onMouseEnter:function(){return T(e,"hover")},onMouseLeave:function(){return T(e,"normal")},children:[Object(x.jsx)("div",{className:"stock-circle",style:{backgroundColor:f[n-1]}}),Object(x.jsx)("div",{className:"legend-text",children:e})]},"stockLegend-".concat(n))})):Object(x.jsx)("div",{className:"loading",children:Object(x.jsx)("h3",{children:"Loading..."})})}),Object(x.jsxs)("section",{className:"stocks",children:[Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{}),Object(x.jsx)("td",{children:"Stock"}),Object(x.jsx)("td",{children:"CAGR"}),Object(x.jsx)("td",{children:"Sharpe"})]})}),Object(x.jsx)("tbody",{children:d?d.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{className:"stock-circle",style:{backgroundColor:f[t.id-1]}})}),Object(x.jsx)("td",{children:t.name}),Object(x.jsx)("td",{children:"".concat(t[k].cagr,"%")}),Object(x.jsx)("td",{children:t[k].sharpe})]},"stockTable-".concat(t.id))})):null})]}),d?"":Object(x.jsx)("div",{className:"loading",children:Object(x.jsx)("h3",{children:"Loading..."})})]})]})]})},m=(n(18),function(){return Object(x.jsx)("div",{id:"App",children:Object(x.jsx)(g,{})})}),v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),o(t),i(t)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(m,{})}),document.getElementById("root")),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.2aa5ca2d.chunk.js.map