(this["webpackJsonpintro-project"]=this["webpackJsonpintro-project"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),o=n(6),i=n.n(o),s=(n(14),n(9)),a=n(2),l=n(7),u=n.n(l),d=n(8),j=n.n(d),h=n.p+"static/media/logo-bright.1ab74d6b.png",b={EUR:"EUR",NOK:"NOK",USD:"USD"},f=["red","yellow","green","royalblue","aqua","hotpink","darkblue"],O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return{series:t,chart:{type:"ohlc",backgroundColor:"transparent",style:{color:"#FFF"}},tooltip:{split:!1},xAxis:{labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},yAxis:{lineColor:"#DDD",labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{inputEnabled:!1,allButtonsEnabled:!0,labelStyle:{color:"white"},buttons:[{type:"year",count:1,text:"1Y",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return e("1y")}}},{type:"year",count:5,text:"5Y",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return e("5y")}}},{type:"all",text:"MAX",dataGrouping:{units:[["day",[1]]]},events:{click:function(){return e("max")}}}],buttonTheme:{width:40},selected:0}}},p="https://apps.lukaszpiotrkowski.pl/stockapp/",x=function(t,e,n){return fetch("".concat(p,"/time_series?stocks=").concat(t.join(),"&currency=").concat(e)).then((function(t){return t.json()})).then((function(t){return function(t,e){var n=[];return t.forEach((function(t){var c=[new Date(t.recorded).getTime(),t.open,t.high,t.low,t.close];if(t.stock_id in n)n[t.stock_id].data.push(c);else{var r=e.find((function(e){return e.id===t.stock_id}));n[t.stock_id]={data:[c],name:r.name,color:f[t.stock_id-1],turboThreshold:2e4}}})),n}(t,n)}))},g=(n(16),n(0)),v=function(){var t=Object(c.useRef)(null),e=Object(c.useState)([]),n=Object(a.a)(e,2),r=n[0],o=n[1],i=Object(c.useState)(),l=Object(a.a)(i,2),d=l[0],v=l[1],m=Object(c.useState)(b.USD),k=Object(a.a)(m,2),y=k[0],F=k[1],S=Object(c.useState)(O()),N=Object(a.a)(S,2),E=N[0],C=N[1],w=Object(c.useState)("1y"),D=Object(a.a)(w,2),L=D[0],T=D[1],_=Object(c.useCallback)((function(e,n){d&&(t.current.chart.showLoading(),x(e,n,d).then((function(t){C(O(t,T))})).catch((function(t){return console.log(t)})).finally((function(){return t.current.chart.hideLoading()})))}),[d]),A=function(e,n){if(0!==r.length){var c=t.current.chart.series.find((function(t){return t.name===e})),o=t.current.chart.series.filter((function(t){return t.name!==e}));c&&(c.points.forEach((function(t){t.setState(n)})),"hover"===n?o.forEach((function(t){return t.points.forEach((function(t){return t.setState("inactive")}))})):o.forEach((function(t){return t.points.forEach((function(t){return t.setState("normal")}))})))}};return Object(c.useEffect)((function(){fetch("".concat(p,"/stocks?period=1,5,max")).then((function(t){return t.json()})).then((function(t){t.sort((function(t,e){return t.id>e.id})),v(t)})).catch((function(t){return console.log(t)}))}),[]),Object(g.jsxs)("div",{className:"introProject",children:[Object(g.jsx)("header",{children:Object(g.jsx)("img",{src:h,alt:"Quantfol.io logo"})}),Object(g.jsxs)("main",{children:[Object(g.jsxs)("section",{className:"chart",children:[Object(g.jsx)(j.a,{highcharts:u.a,constructorType:"stockChart",options:E,ref:t}),Object(g.jsx)("div",{className:"currency",children:Object.values(b).map((function(t){return Object(g.jsx)("div",{className:"currency-button".concat(y===t?" currency-button--selected":""),onClick:function(){return F(e=t),void _(r,e);var e},children:t},t)}))})]}),Object(g.jsx)("section",{className:"legend",children:d?d.map((function(t){var e=t.name,n=t.id,c=t.symbol;return Object(g.jsxs)("div",{className:"legend-stock".concat(r.includes(c)?"":" legend-stock--hidden"),onClick:function(){return t=c,void o((function(e){var n=e.indexOf(t),c=Object(s.a)(e);return-1!==n?c.splice(n,1):c.push(t),_(c,y),c}));var t},onMouseEnter:function(){return A(e,"hover")},onMouseLeave:function(){return A(e,"normal")},children:[Object(g.jsx)("div",{className:"stock-circle",style:{backgroundColor:f[n-1]}}),Object(g.jsx)("div",{className:"legend-text",children:e})]},"stockLegend-".concat(n))})):Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)("h3",{children:"Loading..."})})}),Object(g.jsxs)("section",{className:"stocks",children:[Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{}),Object(g.jsx)("td",{children:"Stock"}),Object(g.jsx)("td",{children:"CAGR"}),Object(g.jsx)("td",{children:"Sharpe"})]})}),Object(g.jsx)("tbody",{children:d?d.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{className:"stock-circle",style:{backgroundColor:f[t.id-1]}})}),Object(g.jsx)("td",{children:t.name}),Object(g.jsx)("td",{children:"".concat(t[L].cagr,"%")}),Object(g.jsx)("td",{children:t[L].sharpe})]},"stockTable-".concat(t.id))})):null})]}),d?"":Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)("h3",{children:"Loading..."})})]})]})]})},m=(n(18),function(){return Object(g.jsx)("div",{id:"App",children:Object(g.jsx)(v,{})})}),k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),o(t),i(t)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(m,{})}),document.getElementById("root")),k()}},[[19,1,2]]]);
//# sourceMappingURL=main.090ca409.chunk.js.map