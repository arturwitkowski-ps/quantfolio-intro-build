(this["webpackJsonpintro-project"]=this["webpackJsonpintro-project"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),r=c(6),s=c.n(r),i=(c(14),c(9)),a=c(3),l=c(7),d=c.n(l),u=c(8),j=c.n(u),b=c.p+"static/media/logo-bright.1ab74d6b.png",h={EUR:"EUR",NOK:"NOK",USD:"USD"},O=["","red","yellow","green","royalblue","aqua","hotpink","darkblue"],f=function(e){return{series:null!==e&&void 0!==e?e:[],chart:{type:"ohlc",backgroundColor:"transparent",style:{color:"#FFF"}},tooltip:{split:!1},xAxis:{labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},yAxis:{lineColor:"#DDD",labels:{style:{color:"#FFF"}},title:{style:{color:"#FFF"}}},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{inputEnabled:!1,allButtonsEnabled:!0,labelStyle:{color:"white"},buttons:[{type:"year",count:1,text:"1Y",dataGrouping:{units:[["day",[1]]]}},{type:"year",count:5,text:"5Y",dataGrouping:{units:[["day",[1]]]}},{type:"all",text:"MAX",dataGrouping:{units:[["day",[1]]]}}],buttonTheme:{width:40},selected:0}}},x="http://vps-a4acc035.vps.ovh.net:8000",g=(c(16),c(0)),p=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([]),c=Object(a.a)(t,2),o=c[0],r=c[1],s=Object(n.useState)(),l=Object(a.a)(s,2),u=l[0],p=l[1],v=Object(n.useState)(h.USD),m=Object(a.a)(v,2),y=m[0],k=m[1],F=Object(n.useState)(f()),S=Object(a.a)(F,2),N=S[0],C=S[1],D=Object(n.useCallback)((function(t,c){console.log("load"),u&&(e.current.chart.showLoading(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",c=arguments.length>2?arguments[2]:void 0;return fetch("".concat(x,"/time_series?stocks=").concat(e.join(),"&currency=").concat(t)).then((function(e){return e.json()})).then((function(e){var t=[];return e.forEach((function(e){var n=[new Date(e.recorded).getTime(),e.open,e.high,e.low,e.close];if(e.stock_id in t)t[e.stock_id].data.push(n);else{var o=c.find((function(t){return t.id===e.stock_id}));t[e.stock_id]={data:[n],name:o.name,color:O[e.stock_id],turboThreshold:2e4}}})),console.log(t),t}))}(t,c,u).then((function(e){console.log("loadeded"),C(f(e))})).catch((function(e){return console.log(e)})).finally((function(){return e.current.chart.hideLoading()})))}),[u]);Object(n.useEffect)((function(){fetch("".concat(x,"/stocks")).then((function(e){return e.json()})).then((function(e){(e=e.filter((function(e){return"Common Stack"===e.type}))).sort((function(e,t){return e.id>t.id})),p(e)})).catch((function(e){return console.log(e)}))}),[]);return Object(g.jsxs)("div",{className:"introProject",children:[Object(g.jsx)("header",{children:Object(g.jsx)("img",{src:b,alt:"Quantfol.io logo"})}),Object(g.jsxs)("main",{children:[Object(g.jsxs)("section",{className:"chart",children:[Object(g.jsx)(j.a,{highcharts:d.a,constructorType:"stockChart",options:N,ref:e}),Object(g.jsx)("div",{className:"currency",children:Object.values(h).map((function(e){return Object(g.jsx)("div",{className:"currency-button".concat(y===e?" currency-button--selected":""),onClick:function(){return k(t=e),void D(o,t);var t},children:e},e)}))})]}),Object(g.jsx)("section",{className:"legend",children:u?u.map((function(e){var t=e.name,c=e.id,n=e.symbol;return Object(g.jsxs)("div",{className:"legend-stock".concat(o.includes(n)?"":" legend-stock--hidden"),onClick:function(){return e=n,void r((function(t){var c=t.indexOf(e),n=Object(i.a)(t);return-1!==c?n.splice(c,1):n.push(e),D(n,y),n}));var e},children:[Object(g.jsx)("div",{className:"stock-circle",style:{backgroundColor:O[c]}}),Object(g.jsx)("div",{className:"legend-text",children:t})]},"stockLegend-".concat(c))})):Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)("h3",{children:"Loading..."})})}),Object(g.jsxs)("section",{className:"stocks",children:[Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{}),Object(g.jsx)("td",{children:"Stock"}),Object(g.jsx)("td",{children:"CAGR"}),Object(g.jsx)("td",{children:"Sharpe"})]})}),Object(g.jsx)("tbody",{children:u?u.map((function(e){var t=e.name,c=e.max,n=e.id;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{className:"stock-circle",style:{backgroundColor:O[n]}})}),Object(g.jsx)("td",{children:t}),Object(g.jsx)("td",{children:"".concat(c.cagr,"%")}),Object(g.jsx)("td",{children:c.sharpe})]},"stockTable-".concat(n))})):null})]}),u?"":Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)("h3",{children:"Loading..."})})]})]})]})},v=(c(18),function(){return Object(g.jsx)("div",{id:"App",children:Object(g.jsx)(p,{})})}),m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),o(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),m()}},[[19,1,2]]]);
//# sourceMappingURL=main.3035d815.chunk.js.map